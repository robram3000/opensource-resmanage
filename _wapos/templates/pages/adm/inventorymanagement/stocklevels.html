{% extends "pages/adm/admn.html" %}
{%block content%}
<div class="stock-management-container">
  <!-- Header Section -->
  <header class="stock-header">
    <h1><i class="fas fa-boxes"></i> Stock Level Management</h1>
    <div class="header-actions">
      <button class="btn btn-primary" id="refresh-stock">
        <i class="fas fa-sync-alt"></i> Refresh
      </button>
      <div class="theme-toggle">
        <input type="checkbox" id="theme-switch" class="theme-switch">
        <label for="theme-switch" class="theme-label">
          <i class="fas fa-moon"></i>
          <i class="fas fa-sun"></i>
          <span class="theme-ball"></span>
        </label>
      </div>
    </div>
  </header>

  <!-- Dashboard Summary Cards -->
  <section class="stock-summary">
    <div class="summary-card critical">
      <div class="card-icon">
        <i class="fas fa-exclamation-triangle"></i>
      </div>
      <div class="card-content">
        <h3>Critical Stock</h3>
        <p class="value">24 Items</p>
        <p class="trend down">5% from last week</p>
      </div>
    </div>
    
    <div class="summary-card low">
      <div class="card-icon">
        <i class="fas fa-battery-quarter"></i>
      </div>
      <div class="card-content">
        <h3>Low Stock</h3>
        <p class="value">42 Items</p>
        <p class="trend up">12% from last week</p>
      </div>
    </div>
    
    <div class="summary-card adequate">
      <div class="card-icon">
        <i class="fas fa-battery-three-quarters"></i>
      </div>
      <div class="card-content">
        <h3>Adequate Stock</h3>
        <p class="value">156 Items</p>
        <p class="trend stable">No change</p>
      </div>
    </div>
    
    <div class="summary-card overstock">
      <div class="card-icon">
        <i class="fas fa-warehouse"></i>
      </div>
      <div class="card-content">
        <h3>Overstock</h3>
        <p class="value">18 Items</p>
        <p class="trend up">8% from last week</p>
      </div>
    </div>
  </section>

  <!-- Main Content Area -->
  <div class="stock-main-content">
    <!-- Filters and Search -->
    <div class="stock-controls">
      <div class="search-box">
        <i class="fas fa-search"></i>
        <input type="text" placeholder="Search products..." class="search-input">
      </div>
      
      <div class="filter-group">
        <select class="form-select" id="category-filter">
          <option value="">All Categories</option>
          <option value="electronics">Electronics</option>
          <option value="clothing">Clothing</option>
          <option value="groceries">Groceries</option>
          <option value="furniture">Furniture</option>
        </select>
        
        <select class="form-select" id="stock-status-filter">
          <option value="">All Statuses</option>
          <option value="critical">Critical</option>
          <option value="low">Low</option>
          <option value="adequate">Adequate</option>
          <option value="overstock">Overstock</option>
        </select>
        
        <button class="btn btn-secondary" id="export-btn">
          <i class="fas fa-file-export"></i> Export
        </button>
      </div>
    </div>

    <!-- Stock Level Table -->
    <div class="stock-table-container">
      <table class="stock-table">
        <thead>
          <tr>
            <th class="sortable" data-sort="product">Product <i class="fas fa-sort"></i></th>
            <th class="sortable" data-sort="sku">SKU <i class="fas fa-sort"></i></th>
            <th class="sortable" data-sort="category">Category <i class="fas fa-sort"></i></th>
            <th>Current Stock</th>
            <th class="sortable" data-sort="threshold">Threshold <i class="fas fa-sort"></i></th>
            <th>Status</th>
            <th>Last Updated</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr class="critical">
            <td>Premium Wireless Headphones</td>
            <td>SKU-2023-001</td>
            <td>Electronics</td>
            <td>
              <div class="stock-bar">
                <div class="progress-bar critical" style="width: 15%"></div>
                <span>5/50</span>
              </div>
            </td>
            <td>10</td>
            <td><span class="status-badge critical">Critical</span></td>
            <td>2 hours ago</td>
            <td>
              <button class="btn-icon" title="Restock"><i class="fas fa-truck"></i></button>
              <button class="btn-icon" title="Edit"><i class="fas fa-edit"></i></button>
              <button class="btn-icon" title="View History"><i class="fas fa-history"></i></button>
            </td>
          </tr>
          <tr class="low">
            <td>Organic Cotton T-Shirt</td>
            <td>SKU-2023-042</td>
            <td>Clothing</td>
            <td>
              <div class="stock-bar">
                <div class="progress-bar low" style="width: 35%"></div>
                <span>14/40</span>
              </div>
            </td>
            <td>15</td>
            <td><span class="status-badge low">Low</span></td>
            <td>1 day ago</td>
            <td>
              <button class="btn-icon" title="Restock"><i class="fas fa-truck"></i></button>
              <button class="btn-icon" title="Edit"><i class="fas fa-edit"></i></button>
              <button class="btn-icon" title="View History"><i class="fas fa-history"></i></button>
            </td>
          </tr>
          <tr class="adequate">
            <td>Stainless Steel Water Bottle</td>
            <td>SKU-2023-107</td>
            <td>Home</td>
            <td>
              <div class="stock-bar">
                <div class="progress-bar adequate" style="width: 65%"></div>
                <span>26/40</span>
              </div>
            </td>
            <td>10</td>
            <td><span class="status-badge adequate">Adequate</span></td>
            <td>3 days ago</td>
            <td>
              <button class="btn-icon" title="Restock"><i class="fas fa-truck"></i></button>
              <button class="btn-icon" title="Edit"><i class="fas fa-edit"></i></button>
              <button class="btn-icon" title="View History"><i class="fas fa-history"></i></button>
            </td>
          </tr>
          <tr class="overstock">
            <td>Wireless Charging Pad</td>
            <td>SKU-2023-205</td>
            <td>Electronics</td>
            <td>
              <div class="stock-bar">
                <div class="progress-bar overstock" style="width: 120%"></div>
                <span>60/50</span>
              </div>
            </td>
            <td>10</td>
            <td><span class="status-badge overstock">Overstock</span></td>
            <td>1 week ago</td>
            <td>
              <button class="btn-icon" title="Restock"><i class="fas fa-truck"></i></button>
              <button class="btn-icon" title="Edit"><i class="fas fa-edit"></i></button>
              <button class="btn-icon" title="View History"><i class="fas fa-history"></i></button>
            </td>
          </tr>
        </tbody>
      </table>
      
      <div class="table-footer">
        <div class="pagination-info">
          Showing <span>1-4</span> of <span>124</span> items
        </div>
        <div class="pagination-controls">
          <button class="btn btn-icon" disabled><i class="fas fa-chevron-left"></i></button>
          <span class="current-page">1</span>
          <button class="btn btn-icon"><i class="fas fa-chevron-right"></i></button>
        </div>
      </div>
    </div>
  </div>

  <!-- Restock Modal (Hidden by default) -->
  <div class="modal" id="restock-modal">
    <div class="modal-content">
      <div class="modal-header">
        <h3>Restock Product</h3>
        <button class="btn-icon modal-close"><i class="fas fa-times"></i></button>
      </div>
      <div class="modal-body">
        <form class="restock-form">
          <div class="form-group">
            <label for="product-name">Product</label>
            <input type="text" id="product-name" class="form-control" readonly>
          </div>
          <div class="form-group">
            <label for="current-stock">Current Stock</label>
            <input type="text" id="current-stock" class="form-control" readonly>
          </div>
          <div class="form-group">
            <label for="restock-quantity">Quantity to Add</label>
            <input type="number" id="restock-quantity" class="form-control" min="1" value="10">
          </div>
          <div class="form-group">
            <label for="supplier">Supplier</label>
            <select id="supplier" class="form-control">
              <option value="">Select Supplier</option>
              <option value="supplier1">Global Electronics Inc.</option>
              <option value="supplier2">Textile World Ltd.</option>
              <option value="supplier3">Home Essentials Co.</option>
            </select>
          </div>
          <div class="form-group">
            <label for="expected-date">Expected Delivery Date</label>
            <input type="date" id="expected-date" class="form-control">
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary modal-close">Cancel</button>
        <button class="btn btn-primary">Confirm Restock</button>
      </div>
    </div>
  </div>
</div>

<!-- Chart Container (Hidden by default, can be toggled) -->
<div class="chart-container" id="stock-trend-chart">
  <div class="chart-header">
    <h3>Stock Level Trends</h3>
    <div class="chart-controls">
      <select class="form-select" id="chart-timeframe">
        <option value="7d">Last 7 Days</option>
        <option value="30d" selected>Last 30 Days</option>
        <option value="90d">Last 90 Days</option>
      </select>
      <button class="btn-icon chart-close"><i class="fas fa-times"></i></button>
    </div>
  </div>
  <div class="chart-body">
    <canvas id="stock-trend-canvas"></canvas>
  </div>
</div>
{%endblock%}